(this["webpackJsonpkh2fm-randomizer"]=this["webpackJsonpkh2fm-randomizer"]||[]).push([[0],{112:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),c=t(9),i=t.n(c),o=t(41),s=t(151),m=t(148),p=t(27),u=t(153),d=Object(m.a)((function(){return{footer:{flexShrink:0},link:{color:"green",textDecoration:"none"},left:{float:"left"},right:{float:"right"}}})),b=function(){var e=d();return l.a.createElement("footer",{className:e.footer},l.a.createElement(s.a,null,l.a.createElement(u.a,{className:e.left},l.a.createElement("a",{href:"https://github.com/afresquet/kh2fm-randomizer",target:"_blank",rel:"noopener noreferrer",className:e.link},"GitHub")," - ",l.a.createElement("a",{href:"http://twitter.valaxor.com",target:"_blank",rel:"noopener noreferrer",className:e.link},"Twitter")," - ",l.a.createElement("a",{href:"http://twitch.valaxor.com",target:"_blank",rel:"noopener noreferrer",className:e.link},"Twitch")," - ",l.a.createElement("a",{href:"http://donate.valaxor.com",target:"_blank",rel:"noopener noreferrer",className:e.link},"Donate")),l.a.createElement(u.a,{className:e.right},"Special thanks to"," ",l.a.createElement("a",{href:"https://twitter.com/Sonicshadowsil2",target:"_blank",rel:"noopener noreferrer",className:e.link},"Sonicshadowsilver2"),", ",l.a.createElement("a",{href:"https://twitter.com/desa3579",target:"_blank",rel:"noopener noreferrer",className:e.link},"Desa3579")," and ",l.a.createElement("a",{href:"https://twitter.com/Bizkit047",target:"_blank",rel:"noopener noreferrer",className:e.link},"Bizkit047"))))},h=t(23),E=t.n(h),f=t(34),g=t(35),v=t(11),w=t(17),k=t(158),y=t(167),O=t(157),j=t(169),A=t(170),C=t(154),T=t(165),x=t(168),S=t(48),B=t.n(S),N="https://us-central1-kh2fm-randomizer.cloudfunctions.net/randomizer";!function(e){e[e.BASE_GAME=0]="BASE_GAME",e[e.GOA_MOD=1]="GOA_MOD"}(n||(n={}));var G=Object(m.a)((function(e){return{paper:{margin:e.spacing(3),marginLeft:"auto",marginRight:"auto",padding:e.spacing(3),width:"50%"},marginBottom:{marginBottom:e.spacing(3)},chipsWrapper:{marginBottom:e.spacing(3),display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}},buttonWrapper:{textAlign:"center"},button:{width:"75%"}}})),W=function(e){var a=e.history,t=G(),c=Object(r.useState)(!1),i=Object(w.a)(c,2),o=i[0],s=i[1],m=Object(r.useState)({seed:""}),p=Object(w.a)(m,2),d=p[0],b=p[1],h=Object(r.useState)({stats:!0,criticalMode:!0,abilities:!0,level50:!0,level1:!1,donaldAbilities:!0,goofyAbilities:!0,formAbilities:!0,growthAbilities:!0,simulatedTwilightTown:!0,twilightTown:!0,hollowBastion:!0,cavernOfRemembrance:!0,organizationXIII:!0,beastsCastle:!0,olympus:!0,olympusCups:!0,agrabah:!0,landOfDragons:!0,pooh:!0,atlantica:!0,prideLands:!0,disneyCastle:!0,timelessRiver:!0,halloweenTown:!0,portRoyal:!0,spaceParanoids:!0,twtnw:!0,ultimaWeapon:!0,maxGrowthAbilities:!0,finalForm:!0,synthItems:!0}),S=Object(w.a)(h,2),W=S[0],M=S[1],R=Object(r.useState)(n.GOA_MOD),D=Object(w.a)(R,2),I=D[0],_=D[1],L=Object(r.useCallback)((function(e){var a=e.target,t=a.name,n=a.value;b((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(g.a)({},t,n))}))}),[]),z=Object(r.useCallback)((function(e){_(e.target.value)}),[]),F=Object(r.useCallback)((function(e){return function(){M((function(a){return"abilities"===e&&a.abilities?Object(v.a)(Object(v.a)({},a),{},{abilities:!1,level50:!1}):"level1"!==e||a.level1?"level50"!==e||a.level50?Object(v.a)(Object(v.a)({},a),{},Object(g.a)({},e,!a[e])):Object(v.a)(Object(v.a)({},a),{},{level50:!0,level1:!1}):Object(v.a)(Object(v.a)({},a),{},{level50:!1,level1:!0})}))}}),[]),P=Object(r.useCallback)((function(e){var a=e.label,t=e.name,n=e.checked,r=e.disabled;return l.a.createElement(y.a,{label:a,color:n?"primary":"default",onClick:F(t),disabled:r})}),[F]),H=Object(r.useCallback)(function(){var e=Object(f.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),s(!0),n=Object.entries(W).filter((function(e){var a=Object(w.a)(e,2);a[0];return a[1]})).reduce((function(e,a){var t=Object(w.a)(a,2),n=t[0],r=t[1];return Object(v.a)(Object(v.a)({},e),{},Object(g.a)({},n,r))}),{}),e.next=6,B.a.post("".concat(N,"/seed"),Object(v.a)(Object(v.a)(Object(v.a)({},d),n),{},{gameMode:I}));case 6:r=e.sent,a.push("/seed/".concat(r.data.seed)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),s(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}(),[d,W,I,a]);return l.a.createElement(C.a,{className:t.paper},l.a.createElement("form",{noValidate:!0,onSubmit:H},l.a.createElement("div",{className:t.marginBottom},l.a.createElement(x.a,{name:"seed",value:d.seed,label:"Click to set a seed (defaults to random bytes)",onChange:L,fullWidth:!0})),l.a.createElement("div",{className:t.marginBottom},l.a.createElement(O.a,{variant:"outlined",fullWidth:!0,disabled:!0},l.a.createElement(j.a,null,"Game Mode"),l.a.createElement(T.a,{value:I,onChange:z,label:"Game Mode"},l.a.createElement(A.a,{value:n.BASE_GAME},"Base Game"),l.a.createElement(A.a,{value:n.GOA_MOD},"Garden of Assemblage Mod")))),l.a.createElement(u.a,{align:"center"},"Randomize"),l.a.createElement("div",{className:t.chipsWrapper},l.a.createElement(P,{label:"Stats",name:"stats",checked:W.stats}),l.a.createElement(P,{label:"Abilities",name:"abilities",checked:W.abilities}),l.a.createElement(P,{label:"Cap abilities at Level 50",name:"level50",checked:W.level50,disabled:!W.abilities}),l.a.createElement(P,{label:"Level 1",name:"level1",checked:W.level1}),l.a.createElement(P,{label:"Donald's Abilities",name:"donaldAbilities",checked:W.donaldAbilities}),l.a.createElement(P,{label:"Goofy's Abilities",name:"goofyAbilities",checked:W.goofyAbilities}),l.a.createElement(P,{label:"Form Abilities",name:"formAbilities",checked:W.formAbilities}),l.a.createElement(P,{label:"Growth Abilities",name:"growthAbilities",checked:W.growthAbilities})),l.a.createElement(u.a,{align:"center"},"Worlds"),l.a.createElement("div",{className:t.chipsWrapper},l.a.createElement(P,{label:"Simulated Twilight Town",name:"simulatedTwilightTown",checked:W.simulatedTwilightTown}),l.a.createElement(P,{label:"Twilight Town",name:"twilightTown",checked:W.twilightTown}),l.a.createElement(P,{label:"Hollow Bastion",name:"hollowBastion",checked:W.hollowBastion}),l.a.createElement(P,{label:"Cavern of Remembrance",name:"cavernOfRemembrance",checked:W.cavernOfRemembrance}),l.a.createElement(P,{label:"Beast's Castle",name:"beastsCastle",checked:W.beastsCastle}),l.a.createElement(P,{label:"Olympus Coliseum",name:"olympus",checked:W.olympus}),l.a.createElement(P,{label:"Agrabah",name:"agrabah",checked:W.agrabah}),l.a.createElement(P,{label:"Land of Dragons",name:"landOfDragons",checked:W.landOfDragons}),l.a.createElement(P,{label:"100 Acre Wood",name:"pooh",checked:W.pooh}),l.a.createElement(P,{label:"Atlantica",name:"atlantica",checked:W.atlantica}),l.a.createElement(P,{label:"Pride Lands",name:"prideLands",checked:W.prideLands}),l.a.createElement(P,{label:"Disney Castle",name:"disneyCastle",checked:W.disneyCastle}),l.a.createElement(P,{label:"Timeless River",name:"timelessRiver",checked:W.timelessRiver}),l.a.createElement(P,{label:"Halloween Town",name:"halloweenTown",checked:W.halloweenTown}),l.a.createElement(P,{label:"Port Royal",name:"portRoyal",checked:W.portRoyal}),l.a.createElement(P,{label:"Space Paranoids",name:"spaceParanoids",checked:W.spaceParanoids}),l.a.createElement(P,{label:"The World That Never Was",name:"twtnw",checked:W.twtnw})),l.a.createElement(u.a,{align:"center"},"Include"),l.a.createElement("div",{className:t.chipsWrapper},l.a.createElement(P,{label:"Critical Mode",name:"criticalMode",checked:W.criticalMode}),l.a.createElement(P,{label:"Data Org/Absent Silhouettes",name:"organizationXIII",checked:W.organizationXIII}),l.a.createElement(P,{label:"Olympus Cups",name:"olympusCups",checked:W.olympusCups}),l.a.createElement(P,{label:"Ultima Weapon",name:"ultimaWeapon",checked:W.ultimaWeapon}),l.a.createElement(P,{label:"MAX Growth Abilities",name:"maxGrowthAbilities",checked:W.maxGrowthAbilities}),l.a.createElement(P,{label:"Final Form",name:"finalForm",checked:W.finalForm}),l.a.createElement(P,{label:"Synth Items",name:"synthItems",checked:W.synthItems})),l.a.createElement("div",{className:t.buttonWrapper},l.a.createElement(k.a,{type:"submit",disabled:o,className:t.button,color:"primary",variant:"contained"},o?"Generating seed...":"Generate seed"))))},M=Object(m.a)((function(){return{link:{color:"green",textDecoration:"none"}}})),R=function(){var e=M();return l.a.createElement("header",null,l.a.createElement(s.a,null,l.a.createElement(u.a,{variant:"h4",align:"center"},l.a.createElement(o.b,{to:"/",className:e.link},"KH2FM Randomizer (Beta)")),l.a.createElement(u.a,{variant:"subtitle1",align:"center"},"by"," ",l.a.createElement("a",{href:"https://github.com/afresquet",target:"_blank",rel:"noopener noreferrer",className:e.link},"Alvaro")," ","(",l.a.createElement("a",{href:"http://twitch.valaxor.com",target:"_blank",rel:"noopener noreferrer",className:e.link},"Valaxor"),")")))},D=t(161),I=t(166),_=t(162),L=t(164),z=t(160),F=t(163),P=t(159),H=t(73),X=t.n(H),U=function(e){return e.reduce((function(e,a){return e+function(e,a){var t=e.padStart(8,"0").toUpperCase(),n=a.padStart(8,"0").toUpperCase();return"patch=1,EE,".concat(t,",extended,").concat(n,"\n")}(a.location.value,a.reward.value)}),"")},q=function(e){var a=e.property,t=e.children;return a?l.a.createElement(u.a,null,t):null},J=function(e){var a=e.reward,t=e.location;return t.description&&a?l.a.createElement(P.a,null,l.a.createElement(z.a,null,t.description),l.a.createElement(z.a,null,t.type),l.a.createElement(z.a,{colSpan:t.reward.name?1:2},a.name),t.reward.name?l.a.createElement(z.a,null,t.reward.name):null):null},K=Object(m.a)((function(e){var a={margin:e.spacing(3),marginLeft:"auto",marginRight:"auto",padding:e.spacing(3),width:"50%",textAlign:"center"};return Object(I.a)({paper:a,marginBottom:{marginBottom:e.spacing(3)},chipsWrapper:{marginBottom:e.spacing(3),display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5),marginLeft:e.spacing(1.5),marginRight:e.spacing(1.5)}},button:{marginTop:e.spacing(3),width:"75%"},spoilerPaper:Object(v.a)(Object(v.a)({},a),{},{width:"auto"}),loadingContainer:{paddingTop:e.spacing(20),textAlign:"center"}})})),V=function(e){var a=e.match.params.seed,t=K(),c=Object(r.useState)(null),i=Object(w.a)(c,2),o=i[0],s=i[1],m=Object(r.useState)(null),p=Object(w.a)(m,2),d=p[0],b=p[1],h=Object(r.useState)(!1),g=Object(w.a)(h,2),v=g[0],y=g[1],O=Object(r.useState)(!0),j=Object(w.a)(O,2),A=j[0],T=j[1],x=Object(r.useState)(null),S=Object(w.a)(x,2),G=S[0],W=S[1];Object(r.useEffect)((function(){Object(f.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("".concat(N,"/seed/").concat(a));case 3:t=e.sent,n=t.data,s(n.configuration),b(n.seed),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),W(e.t0);case 12:return e.prev=12,T(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()}),[a]);var M=Object(r.useCallback)(Object(f.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d){e.next=3;break}return e.abrupt("return");case 3:T(!0),"F266B00B.pnach",a=U(d),X()(a,"F266B00B.pnach","application/octet-stream"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),W(e.t0);case 12:return e.prev=12,T(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[d]),R=Object(r.useCallback)(Object(f.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y((function(e){return!e}));case 1:case"end":return e.stop()}}),e)}))),[]);if(A&&!o)return l.a.createElement("div",{className:t.loadingContainer},l.a.createElement(D.a,{size:250}));if(G)return console.error(G),l.a.createElement(u.a,null,"Invalid seed!");if(!o||!d)return null;var I="";return o.gameMode.mode===n.BASE_GAME?I="Base Game":o.gameMode.mode===n.GOA_MOD&&(I=l.a.createElement("a",{href:"https://docs.google.com/document/d/1GYjEnrM_TIk7qyO75clPLYD-_nP5wTR7K6SE-Wn-QCg",target:"_blank",rel:"noopener noreferrer"},"Garden of Assemblage Mod")),l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{variant:"outlined",className:t.paper},l.a.createElement("div",{className:t.marginBottom},l.a.createElement(u.a,{variant:"h4"},"Seed: ",o.seed),l.a.createElement(u.a,{variant:"h6"},"Game Mode: ",I)),l.a.createElement(u.a,{variant:"h6"},"Randomize"),l.a.createElement("div",{className:t.chipsWrapper},l.a.createElement(q,{property:o.stats},"Stats"),l.a.createElement(q,{property:o.abilities},"Abilities"),l.a.createElement(q,{property:o.level50},"Cap abilities at Level 50"),l.a.createElement(q,{property:o.level1},"Level 1"),l.a.createElement(q,{property:o.donaldAbilities},"Donald's Abilities"),l.a.createElement(q,{property:o.goofyAbilities},"Goofy's Abilities"),l.a.createElement(q,{property:o.formAbilities},"Form Abilities"),l.a.createElement(q,{property:o.maxGrowthAbilities},"Growth Abilities")),l.a.createElement(u.a,{variant:"h6"},"Worlds"),l.a.createElement("div",{className:t.chipsWrapper},l.a.createElement(q,{property:o.simulatedTwilightTown},"Simulated Twilight Town"),l.a.createElement(q,{property:o.twilightTown},"Twilight Town"),l.a.createElement(q,{property:o.hollowBastion},"Hollow Bastion"),l.a.createElement(q,{property:o.cavernOfRemembrance},"Cavern of Remembrance"),l.a.createElement(q,{property:o.beastsCastle},"Beast's Castle"),l.a.createElement(q,{property:o.olympus},"Olympus"),l.a.createElement(q,{property:o.agrabah},"Agrabah"),l.a.createElement(q,{property:o.landOfDragons},"Land of Dragons"),l.a.createElement(q,{property:o.pooh},"100 Acre Wood"),l.a.createElement(q,{property:o.atlantica},"Atlantica"),l.a.createElement(q,{property:o.prideLands},"Pride Lands"),l.a.createElement(q,{property:o.disneyCastle},"Disney Castle"),l.a.createElement(q,{property:o.timelessRiver},"Timeless River"),l.a.createElement(q,{property:o.halloweenTown},"Halloween Town"),l.a.createElement(q,{property:o.portRoyal},"Port Royal"),l.a.createElement(q,{property:o.spaceParanoids},"Space Paranoids"),l.a.createElement(q,{property:o.twtnw},"The World That Never Was")),l.a.createElement(u.a,{variant:"h6"},"Include"),l.a.createElement("div",{className:t.chipsWrapper},l.a.createElement(q,{property:o.criticalMode},"Critical Mode"),l.a.createElement(q,{property:o.organizationXIII},"Data Org/Absent Silhouettes"),l.a.createElement(q,{property:o.olympusCups},"Olympus Cups"),l.a.createElement(q,{property:o.ultimaWeapon},"Ultima Weapon"),l.a.createElement(q,{property:o.maxGrowthAbilities},"MAX Growth Abilities"),l.a.createElement(q,{property:o.finalForm},"Final Form"),l.a.createElement(q,{property:o.synthItems},"Synth Items")),l.a.createElement(k.a,{onClick:M,color:"primary",variant:"contained",className:t.button},"Download seed"),l.a.createElement(k.a,{onClick:R,color:"primary",variant:"contained",className:t.button},v?"Hide":"Show"," spoiler logs")),v?l.a.createElement(C.a,{className:t.spoilerPaper,variant:"outlined"},l.a.createElement(_.a,{size:"small"},l.a.createElement(F.a,null,l.a.createElement(P.a,null,l.a.createElement(z.a,null,"Location"),l.a.createElement(z.a,null,"Type"),l.a.createElement(z.a,null,"Became"),l.a.createElement(z.a,null,"Original"))),l.a.createElement(L.a,null,d.map((function(e){var a=e.reward,t=e.location;return l.a.createElement(J,{key:t.value,reward:a,location:t})}))))):null)},Y=Object(m.a)((function(e){return{content:{padding:e.spacing(3),flex:"1 0 auto"}}}));var Q=function(){var e=Y();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.content},l.a.createElement(R,null),l.a.createElement("main",null,l.a.createElement(s.a,null,l.a.createElement(p.c,null,l.a.createElement(p.a,{path:"/",component:W,exact:!0}),l.a.createElement(p.a,{path:"/seed/:seed",component:V,exact:!0}))))),l.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,{basename:"/"},l.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,a,t){e.exports=t(112)}},[[84,1,2]]]);
//# sourceMappingURL=main.18fa3bd8.chunk.js.map